# Caminho: .github/workflows/java_ci.yml

name: CI de Testes do Projeto Quiz (Gradle)

# Gatilho: Roda quando há um envio de código (push)
on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  build_and_test:
    runs-on: ubuntu-latest # Usa o sistema operacional Linux
    
    steps:
    
    # 1. Baixa o seu código
    - name: Checkout do Repositório
      uses: actions/checkout@v4
      
    # 2. Configura o Java (deve corresponder ao que você definiu no build.gradle)
    - name: Configurar Java 17
      uses: actions/setup-java@v4
      with:
        java-version: '17' 
        distribution: 'temurin'
        cache: 'gradle' 
        
    # 3. Configura Permissões para o Wrapper (Se você usar o gradlew)
    - name: Grant execute permission for gradlew
      run: chmod +x gradlew
      
    # 4. A etapa principal: Compila, baixa dependências e RODA O QUIZTESTE
    - name: Executar Build do Gradle e Rodar Testes
      # Este comando executa os testes unitários. Se QuizTeste falhar, a CI falha.
      run: ./gradlew build
